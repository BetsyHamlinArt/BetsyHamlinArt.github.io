{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./_common.js","webpack:///./_photo-gallery.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","3","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_jquery","default","on","e","toggleClass","preventDefault","prepend","_interopRequireDefault","_masonryLayout","_photoswipe","_photoswipeUI","_imagesLoaded","$grid","initPhotoSwipeFromDOM","gallerySelector","$galleryElements","onThumbnailsClick","openPhotoSwipe","$links","index","this","target","closest","$galleryElement","disableAnimation","fromURL","options","pswpElement","items","$el","children","each","$linkEl","find","$thumbnailImgEl","size","split","src","attr","msrc","pid","title","desc","w","parseInt","h","el","parseThumbnailElements","galleryUID","galleryPIDs","getThumbBoundsFn","thumbnail","getElementsByTagName","pageYScroll","pageYOffset","document","documentElement","scrollTop","rect","getBoundingClientRect","x","left","y","top","width","addCaptionHTMLFn","item","captionEl","innerHTML","innerText","isNaN","showAnimationDuration","photoswipe","photoswipeUI","init","galleryIndex","gallery","$gallery","hashData","hash","location","substring","params","consts","pair","gid","photoswipeParseHash","$","bridget","masonry","imagesLoaded","makeJQueryPlugin","fn","masonryImagesReveal","$items","beforeImagesLoadedCallback","msnry","itemSelector","hide","append","progress","imgLoad","image","$item","img","parents","show","appended","columnWidth","gutter","percentPosition","IMAGE_DATA","RANDOMIZE_SETTINGS","Math","seedrandom","floor","Date","now","random","shuffle","limit","join","remove"],"mappings":"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","file":"photoGallery.f781306fdf15f40fb48c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t3: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([22,0,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import $ from 'jquery'\n\n// Off Canvas Sliding\n// Menu button click\n$('#js-menu-trigger,#js-menu-screen').on('click touchstart', (e) => {\n  // $('#js-body').toggleClass('no-scroll');\n  $('#js-menu, #js-menu-screen').toggleClass('is-visible');\n  $('#js-menu-trigger').toggleClass('slide close');\n  // $('#masthead, #page-wrapper').toggleClass('slide');\n  e.preventDefault();\n});\n\n$(\"#markdown-toc\").prepend(\"<li><h6>Overview</h6></li>\");\n","import $ from 'jquery'\nimport masonry from 'masonryLayout'\nimport photoswipe from 'photoswipe'\nimport photoswipeUI from 'photoswipeUI'\nimport imagesLoaded from 'imagesLoaded'\n\nimport 'seedrandom'\nimport 'photoswipeCss'\nimport 'photoswipeUiCss'\nimport './_common'\n\nconst shuffle = (o) => {\n  for (let j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x) { }\n  return o;\n};\n\nconst generateDaySeed = () => {\n  Math.seedrandom(Math.floor(Date.now() / 8.64e+7));\n};\n\nconst buildPlugins = () => {\n\n  $.bridget('masonry', masonry, $);\n  imagesLoaded.makeJQueryPlugin($);\n\n  // reveals items iteratively\n  // after each item has loaded its images\n  $.fn.masonryImagesReveal = function ($items, beforeImagesLoadedCallback) {\n    const msnry = this.data('masonry');\n    const itemSelector = msnry.options.itemSelector;\n    // hide by default\n    $items.hide();\n    // append to container\n    this.append($items);\n    beforeImagesLoadedCallback();\n    $items.imagesLoaded()\n      .progress((imgLoad, image) => {\n        // get item\n        // image is imagesLoaded class, not <img>, <img> is image.img\n        const $item = $(image.img).parents(itemSelector);\n        // un-hide item\n        $item.show();\n        // masonry does its thing\n        msnry.appended($item);\n      });\n\n    return this;\n  };\n};\n\nconst initPhotoSwipeFromDOM = (gallerySelector) => {\n\n  // loop through all gallery elements and bind events\n  const $galleryElements = $(gallerySelector);\n\n  // parse slide data (url, title, size ...) from DOM elements\n  // (children of gallerySelector)\n  const parseThumbnailElements = ($el) => {\n    const items = [];\n    $el.children().each((i, e) => {\n      const $linkEl = $(e).find('a');\n      if ($linkEl.length) {\n        const $thumbnailImgEl = $linkEl.find('img');\n        const size = $linkEl.data('size').split('x');\n\n        // create slide object\n        items.push({\n          src: $linkEl.attr('href'),\n          msrc: $thumbnailImgEl.attr('src'),\n          pid: $linkEl.data('index'),\n          title: $linkEl.data('title') || ' ',\n          desc: $linkEl.data('description'),\n          w: parseInt(size[0], 10),\n          h: parseInt(size[1], 10),\n          el: e\n        });\n      }\n    });\n\n    return items;\n  };\n\n  // triggers when user clicks on thumbnail\n  const onThumbnailsClick = function (e) {\n    e.preventDefault();\n    openPhotoSwipe(e.data.$links.index(this), $(e.target).closest(gallerySelector));\n  };\n\n  // parse picture index and gallery index from URL (#&pid=1&gid=2)\n  const photoswipeParseHash = () => {\n    const hash = window.location.hash.substring(1),\n      params = {};\n\n    if (hash.length < 5) {\n      return params;\n    }\n\n    const consts = hash.split('&');\n    for (let i = 0; i < consts.length; i++) {\n      if (!consts[i]) {\n        continue;\n      }\n      const pair = consts[i].split('=');\n      if (pair.length < 2) {\n        continue;\n      }\n      params[pair[0]] = pair[1];\n    }\n\n    if (params.gid) {\n      params.gid = parseInt(params.gid, 10);\n    }\n\n    return params;\n  };\n\n  const openPhotoSwipe = (index, $galleryElement, disableAnimation, fromURL) => {\n    if (!$galleryElement.length) {\n      return;\n    }\n\n    const pswpElement = $('.pswp')[0];\n    let gallery,\n      options;\n\n    const items = parseThumbnailElements($galleryElement);\n\n    // define options (if needed)\n    options = {\n      // define gallery index (for URL)\n      galleryUID: $galleryElement.data('pswp-uid'),\n      galleryPIDs: true,\n      getThumbBoundsFn: (index) => {\n        // See Options -> getThumbBoundsFn section of documentation for more info\n        const thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail\n          pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n          rect = thumbnail.getBoundingClientRect();\n\n        return { x: rect.left, y: rect.top + pageYScroll, w: rect.width };\n      },\n      addCaptionHTMLFn: (item, captionEl) => {\n        if (!item.title) {\n          captionEl.children[0].innerText = '';\n          return false;\n        }\n        captionEl.children[0].innerHTML = '<p>' + item.title + '</p>';\n\n        if (item.desc) {\n          captionEl.children[0].innerHTML += '<p>' + item.desc + '</p>';\n        }\n\n        return true;\n      }\n    };\n\n    // PhotoSwipe opened from URL\n    if (fromURL) {\n      if (options.galleryPIDs) {\n        // parse real index when custom PIDs are used\n        // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].pid === index) {\n            options.index = j;\n            break;\n          }\n        }\n      } else {\n        // in URL indexes start from 1\n        options.index = parseInt(index, 10) - 1;\n      }\n    } else {\n      options.index = parseInt(index, 10);\n    }\n\n    // exit if index not found\n    if (isNaN(options.index)) {\n      return;\n    }\n\n    if (disableAnimation) {\n      options.showAnimationDuration = 0;\n    }\n\n    // Pass data to PhotoSwipe and initialize it\n    gallery = new photoswipe(pswpElement, photoswipeUI, items, options);\n    gallery.init();\n  };\n\n  $galleryElements.each((galleryIndex, gallery) => {\n    const $gallery = $(gallery);\n    $gallery.data('pswp-uid', galleryIndex + 1);\n    $gallery.on('click', '.grid-item a', { $links: $gallery.find('.grid-item a') }, onThumbnailsClick);\n  });\n\n  // Parse URL and open gallery if it contains #&pid=3&gid=1\n  const hashData = photoswipeParseHash();\n  if (hashData.pid && hashData.gid) {\n    openPhotoSwipe(hashData.pid, $($galleryElements[hashData.gid - 1]), true, true);\n  }\n};\n\nconst configureMasonry = () => {\n  const gridSelector = '.grid';\n  const $grid = $(gridSelector).masonry({\n    itemSelector: '.grid-item',\n    columnWidth: '.grid-sizer',\n    gutter: '.gutter-sizer',\n    percentPosition: true\n  });\n\n  if ($grid.length && window.IMAGE_DATA) {\n    if (window.RANDOMIZE_SETTINGS) {\n      generateDaySeed();\n      shuffle(window.IMAGE_DATA);\n      window.IMAGE_DATA = window.IMAGE_DATA.slice(-window.RANDOMIZE_SETTINGS.limit);\n    }\n\n    $grid.masonryImagesReveal($(window.IMAGE_DATA.join('')), () => {\n      initPhotoSwipeFromDOM(gridSelector);\n    });\n    $('#jsonScript').remove();\n  }\n};\n\nbuildPlugins();\nconfigureMasonry();\n"],"sourceRoot":""}