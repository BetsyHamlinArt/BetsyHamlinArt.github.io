/*! skinny-bones-jekyll - v0.0.1 - 2016-01-10 */!function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(){var b=a(this);if(!(b.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){b.css("height")||b.css("width")||!isNaN(b.attr("height"))&&!isNaN(b.attr("width"))||(b.attr("height",9),b.attr("width",16));var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),e=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),f=c/e;if(!b.attr("id")){var g="fitvid"+Math.floor(999999*Math.random());b.attr("id",g)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*f+"%"),b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(a){var b=a(window);a.fn.visible=function(a,c,d){if(!(this.length<1)){var e=this.length>1?this.eq(0):this,f=e.get(0),g=b.width(),h=b.height(),d=d?d:"both",i=c===!0?f.offsetWidth*f.offsetHeight:!0;if("function"==typeof f.getBoundingClientRect){var j=f.getBoundingClientRect(),k=j.top>=0&&j.top<h,l=j.bottom>0&&j.bottom<=h,m=j.left>=0&&j.left<g,n=j.right>0&&j.right<=g,o=a?k||l:k&&l,p=a?m||m:m&&n;if("both"===d)return i&&o&&p;if("vertical"===d)return i&&o;if("horizontal"===d)return i&&p}else{var q=b.scrollTop(),r=q+h,s=b.scrollLeft(),t=s+g,u=e.offset(),v=u.top,w=v+e.height(),x=u.left,y=x+e.width(),z=a===!0?w:v,A=a===!0?v:w,B=a===!0?y:x,C=a===!0?x:y;if("both"===d)return!!i&&r>=A&&z>=q&&t>=C&&B>=s;if("vertical"===d)return!!i&&r>=A&&z>=q;if("horizontal"===d)return!!i&&t>=C&&B>=s}}}}(jQuery),$(document).ready(function(){$("#js-menu-trigger,#js-menu-screen").on("click touchstart",function(a){$("#js-menu, #js-menu-screen").toggleClass("is-visible"),$("#js-menu-trigger").toggleClass("slide close"),a.preventDefault()})}),$(document).ready(function(){$("#main").fitVids()}),$("#markdown-toc").prepend("<li><h6>Overview</h6></li>");var initPhotoSwipeFromDOM=function(a){for(var b=document.querySelectorAll(a),c=function(a){for(var b,c,d,e,f,g=a.childNodes,h=g.length,i=[],j=0;h>j;j++)b=g[j],1===b.nodeType&&(c=b.children[0],d=c.children[0],e=c.getAttribute("data-size").split("x"),f={src:c.getAttribute("href"),msrc:d.getAttribute("src"),pid:c.getAttribute("data-index"),title:c.getAttribute("data-title")||" ",desc:c.getAttribute("data-description"),w:parseInt(e[0],10),h:parseInt(e[1],10)},f.el=b,i.push(f));return i},d=function k(a,b){return a&&(b(a)?a:k(a.parentNode,b))},e=function(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1;var b=a.target||a.srcElement,c=d(b,function(a){return a.tagName&&"DIV"===a.tagName.toUpperCase()});if(c){for(var e,f=c.parentNode,h=f.childNodes,i=h.length,j=0,k=0;i>k;k++)if(1===h[k].nodeType){if(h[k]===c){e=j;break}j++}return e>=0&&g(e,f),!1}},f=function(){var a=window.location.hash.substring(1),b={};if(a.length<5)return b;for(var c=a.split("&"),d=0;d<c.length;d++)if(c[d]){var e=c[d].split("=");e.length<2||(b[e[0]]=e[1])}return b.gid&&(b.gid=parseInt(b.gid,10)),b},g=function(a,b,d,e){if(b){var f,g,h,i=document.querySelectorAll(".pswp")[0];if(h=c(b),g={galleryUID:b.getAttribute("data-pswp-uid"),galleryPIDs:!0,getThumbBoundsFn:function(a){var b=h[a].el.getElementsByTagName("img")[0],c=window.pageYOffset||document.documentElement.scrollTop,d=b.getBoundingClientRect();return{x:d.left,y:d.top+c,w:d.width}},addCaptionHTMLFn:function(a,b,c){return a.title?(b.children[0].innerHTML="<p>"+a.title+"</p>",a.desc&&(b.children[0].innerHTML+="<p>"+a.desc+"</p>"),!0):(b.children[0].innerText="",!1)}},e)if(g.galleryPIDs){for(var j=0;j<h.length;j++)if(h[j].pid===a){g.index=j;break}}else g.index=parseInt(a,10)-1;else g.index=parseInt(a,10);isNaN(g.index)||(d&&(g.showAnimationDuration=0),f=new PhotoSwipe(i,PhotoSwipeUI_Default,h,g),f.init())}},h=0,i=b.length;i>h;h++)b[h].setAttribute("data-pswp-uid",h+1),b[h].onclick=e;var j=f();j.pid&&j.gid&&g(j.pid,b[j.gid-1],!0,!0)},updateUpcomingShows=function(a){var b=a("#show-root");if(b.length){for(var c=Math.floor(Date.now()/1e3),d=a("#current-shows > div"),e=a("#previous-shows"),f=0;f<d.length;++f){var g=a(d[f]),h=+g.attr("data-time");c>h&&(g.detach(),e.prepend(g))}0===a("#current-shows > div").length&&(a("#current-shows").remove(),a("#no-current-shows-message").removeClass("hidden")),b.removeClass("load")}},configureMasonry=function(a){var b=a(".grid").imagesLoaded(function(){b.masonry({itemSelector:".grid-item",columnWidth:".grid-sizer",gutter:".gutter-sizer",percentPosition:!0})})};initPhotoSwipeFromDOM(".my-gallery"),updateUpcomingShows(window.jQuery),configureMasonry(window.jQuery);